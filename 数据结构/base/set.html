<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>Document</title>
  </head>
  <body>
    <script>
      function Set() {
        this.dataStore = [];
        this.add = add;
        this.remove = remove;
        this.show = show;
        this.union = union;
        this.intersect = intersect;
        this.difference = difference;
        this.contains = contains;
        this.subset = subset;
        this.size = size;
      }
      function add(data) {
        if (this.dataStore.indexOf(data) < 0) {
          this.dataStore.push(data);
        } else {
          return false;
        }
      }
      function remove() {
        var pos = this.dataStore.indexOf(data);
        if (pos > -1) {
          this.dataStore.splice(pos, 1);
        } else {
          return false;
        }
      }
      function show() {
        return this.dataStore;
      }

      function union(set) {
        var tempSet = new Set();
        for (var i = 0; i < this.dataStore.length; i++) {
          tempSet.add(this.dataStore[i]);
        }
        for (var i = 0; i < set.dataStore.length; i++) {
          if (!tempSet.contains(set.dataStore[i])) {
            tempSet.dataStore.push(set.dataStore[i]);
          }
        }
        return tempSet;
      }
      function contains(data) {
        if (this.dataStore.indexOf(data) > -1) {
          return true;
        } else {
          return false;
        }
      }
      function intersect(set) {
        var tempSet = new Set();
        for (var i = 0; i < this.dataStore.length; i++) {
          if (set.contains(this.dataStore[i])) {
            tempSet.add(this.dataStore[i]);
          }
        }
        return tempSet;
      }
      function difference(set) {
        var tempSet = new Set();
        for (var i = 0; i < this.dataStore.length; i++) {
          if (!set.contains(this.dataStore[i])) {
            tempSet.add(this.dataStore[i]);
          }
        }
        return tempSet;
      }
      function size() {
        return this.dataStore.length;
      }
      function subset(set) {
        if (set.size() > this.size()) {
          return false;
        } else {
          for (var i = 0; i < set.dataStore.length; i++) {
            if (!this.contains(set.dataStore[i])) {
              return false;
            }
          }
          return true;
        }
      }
      var names = new Set();
      names.add("xiao hong");
      names.add("xiao lu");
      names.add("xiao lan");
      console.log(names.show());
      var cis = new Set();
      cis.add("chongqing");
      cis.add("chengdu");
      cis.add("xiao lan");
      var it = new Set();
      it = names.union(cis);
      console.log(it.show(), "并集");
      it = names.intersect(cis);
      console.log(it.show(), "交集");
      it = names.difference(cis);
      console.log(it.show(), "补集");
      it = names.difference(cis);
      console.log(it.show(), "补集");

      var sub = new Set();
      sub.add("chongqing");
      console.log(cis.subset(sub), "是否子集");
    </script>
  </body>
</html>
